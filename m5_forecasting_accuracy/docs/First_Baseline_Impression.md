# Baseline を作った所感

Baselineとなるものを作ったので、感じたことを忘れないように所感をまとめておく。


## 各処理ごとの話
### 全体の話
- コードのリファクタリンしたほうがいい。
  - 微妙にハードコーディングされているところとかあるので危ない
  - リファクタリングする際はバグを作らないように気をつけろ


### 前処理に関して



### 特徴量に関して
- まだまだ特徴量は作れそう



### モデリングに関して
- Time Series Split を行ったが、validation の時期が異なりすぎるのであまり良くない気がする。
  - iteration が収束する速さも異なり、完全に怪しい。
- テストデータを当てたいので、直近のデータから予測をするのがいいのではないか。
  - 過去すぎるデータをモデリングしても意味がなさそう。。。
- Feature Importance が荒れているのが気になる。
  - validation のやりかたが良くないと思われる。
  - 異なるモデルを作ろうとしているから、特徴量重要度が散らばる


### 評価に関して
- 評価関数を WRMSLE にしたのは成功だった。
  - ただし、weightのやり方に関してはまだまだ調整が必要に思える。
  - やっていることは、salesが0を取る回数多いデータを捨てることをやっている。
    - 対象は過去28日間
  - Release日以前のデータを取り扱っていたことも大きな要因であると思われる。
  - あとは、0を取りやすいidのデータを薄めた。
- WRMSSE を算出出来るようにしたが、処理速度をもう少し改善出来るはず。
- 今回使った、WRMSLE の重みの計算を28日間で切っている。
  - 範囲を広げたり、狭めたりすることはできそう。（効果があるかは定かでない。）


## 次にやっていくこと
- WRMSLE を使ったがリリース前のデータを捨てる。
- Script化
- 特徴量エンジニアリング
  - ターゲットエンコーディングとか？
    - groupby には、評価方法に使われていgroup_idは使えるかもしれない。
- 過去事例の調査
- EDA


## 反省
- 最初は、train_test_split でも良かったのかもしれない。
- Baselineを作るのに時間がかかってしまった気がする。

